<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RaVa AI</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        /* This is the key fix for mobile layout */
        html, body {
            height: 100%;
            overflow: hidden;
        }
        body {
            font-family: 'Inter', sans-serif;
            background-color: #000;
            color: #E5E7EB;
        }
        #app-root {
            height: 100%;
        }
        #app-view {
            height: 100%;
            max-height: -webkit-fill-available; /* For mobile safari */
        }
        #space-bg {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1;
            background: #000; overflow: hidden;
        }
        .star {
            position: absolute; background-color: white; border-radius: 50%;
            animation: twinkle linear infinite;
        }
        @keyframes twinkle { 0%, 100% { opacity: 0; } 50% { opacity: 1; } }
        .bg-blurry {
            background-color: rgba(10, 10, 10, 0.8);
            backdrop-filter: blur(12px);
        }
        .chat-container::-webkit-scrollbar { width: 6px; }
        .chat-container::-webkit-scrollbar-thumb { background-color: #374151; border-radius: 20px; }
        .ai-message-content p { margin-bottom: 0.5rem; }
        .ai-message-content h1, .ai-message-content h2, .ai-message-content h3 { margin-top: 1rem; margin-bottom: 0.5rem; font-weight: 600; border-bottom: 1px solid #374151; padding-bottom: 0.25rem;}
        .ai-message-content ul, .ai-message-content ol { margin-left: 1.5rem; margin-bottom: 0.5rem; }
        .ai-message-content code { background-color: #111827; border: 1px solid #374151; padding: 0.2rem 0.4rem; border-radius: 4px; font-family: monospace; word-break: break-all; }
        .ai-message-content pre { background-color: #0d1117; border: 1px solid #374151; padding: 1rem; border-radius: 8px; margin-bottom: 1rem; overflow-x: auto; }
        .glowing-border {
            position: relative; border: 1px solid #374151; transition: box-shadow 0.3s ease-in-out; overflow: hidden;
        }
        .glowing-border:focus-within { border-color: #6366f1; }
        .glowing-border::after {
            content: ''; position: absolute; bottom: 0; left: -50%; width: 200%; height: 3px;
            background: linear-gradient(90deg, transparent, #4f46e5, #ec4899, #22d3ee, transparent);
            animation: move-light 4s linear infinite; opacity: 0; transition: opacity 0.3s ease-in-out;
        }
        .glowing-border:focus-within::after { opacity: 1; }
        @keyframes move-light { 0% { transform: translateX(0); } 100% { transform: translateX(25%); } }
    </style>
</head>
<body class="antialiased">
    
    <div id="space-bg"></div>

    <div id="app-root" class="w-full flex flex-col items-center justify-center">

        <div id="login-view" class="w-full h-full flex items-center justify-center hidden p-4">
            <div class="w-full max-w-md bg-slate-900/50 backdrop-blur-xl border border-slate-700 rounded-2xl p-6 sm:p-8 shadow-2xl shadow-indigo-500/10">
                <h1 class="text-3xl font-bold text-center mb-2 text-white">Welcome to <span class="text-indigo-400">RaVa</span> AI</h1>
                <p class="text-center text-slate-400 mb-8">Sign in to continue</p>
                <div id="email-password-form">
                    <input id="email-input" type="email" placeholder="Email" class="w-full bg-slate-800 border border-slate-600 rounded-lg px-4 py-3 mb-4 text-white focus:outline-none focus:ring-2 focus:ring-indigo-500">
                    <input id="password-input" type="password" placeholder="Password" class="w-full bg-slate-800 border border-slate-600 rounded-lg px-4 py-3 mb-4 text-white focus:outline-none focus:ring-2 focus:ring-indigo-500">
                    <div id="auth-error" class="text-red-400 text-sm mb-4 hidden"></div>
                    <button id="login-btn" class="w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 rounded-lg transition duration-300">Login</button>
                    <button id="signup-btn" class="w-full mt-3 bg-slate-700 hover:bg-slate-600 text-white font-bold py-3 rounded-lg transition duration-300">Sign Up</button>
                </div>
                <div class="relative flex py-5 items-center">
                    <div class="flex-grow border-t border-slate-600"></div><span class="flex-shrink mx-4 text-slate-400">OR</span><div class="flex-grow border-t border-slate-600"></div>
                </div>
                <button id="google-signin-btn" class="w-full flex items-center justify-center bg-slate-800 hover:bg-slate-700 text-white font-bold py-3 px-4 rounded-lg transition duration-300 border border-slate-600">
                    <svg class="w-5 h-5 mr-3" viewBox="0 0 48 48"><path fill="#FFC107" d="M43.611 20.083H42V20H24v8h11.303c-1.649 4.657-6.08 8-11.303 8c-6.627 0-12-5.373-12-12s5.373-12 12-12c3.059 0 5.842 1.154 7.961 3.039l5.657-5.657C34.046 6.053 29.268 4 24 4C12.955 4 4 12.955 4 24s8.955 20 20 20s20-8.955 20-20c0-1.341-.138-2.65-.389-3.917z"></path><path fill="#FF3D00" d="M6.306 14.691l6.571 4.819C14.655 15.108 18.961 12 24 12c3.059 0 5.842 1.154 7.961 3.039l5.657-5.657C34.046 6.053 29.268 4 24 4C16.318 4 9.656 8.337 6.306 14.691z"></path><path fill="#4CAF50" d="M24 44c5.166 0 9.86-1.977 13.409-5.192l-6.19-5.238C29.211 35.091 26.715 36 24 36c-5.202 0-9.619-3.317-11.283-7.946l-6.522 5.025C9.505 39.556 16.227 44 24 44z"></path><path fill="#1976D2" d="M43.611 20.083H42V20H24v8h11.303c-.792 2.237-2.231 4.166-4.087 5.571l6.19 5.238C42.012 36.49 44 30.863 44 24c0-1.341-.138-2.65-.389-3.917z"></path></svg>
                    Continue with Google
                </button>
            </div>
        </div>

        <div id="pricing-view" class="w-full h-full flex items-center justify-center hidden p-4">
            <div class="w-full max-w-4xl bg-slate-900/50 backdrop-blur-xl border border-indigo-500/50 rounded-2xl p-6 sm:p-8 text-center shadow-2xl shadow-indigo-500/20">
                <h2 class="text-3xl font-bold text-white mb-4">Unlock Full Potential</h2>
                <p class="text-slate-300 mb-8">Choose a plan to get unlimited access.</p>
                <div class="flex flex-col sm:flex-row gap-8">
                    <div class="bg-slate-800/60 p-8 rounded-xl border border-slate-700 flex-1">
                        <h3 class="text-2xl font-semibold text-white mb-2">Monthly</h3>
                        <p class="text-4xl font-bold text-indigo-400 mb-4">₹250</p>
                        <button onclick="handlePurchaseClick()" class="w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 rounded-lg transition duration-300">Contact Admin</button>
                    </div>
                    <div class="relative bg-slate-800/60 p-8 rounded-xl border border-sky-500 flex-1">
                         <span class="absolute top-0 right-0 -mt-3 mr-3 px-3 py-1 text-sm font-bold text-white bg-sky-500 rounded-full">BEST VALUE</span>
                        <h3 class="text-2xl font-semibold text-white mb-2">Yearly</h3>
                        <p class="text-4xl font-bold text-sky-400 mb-4">₹350</p>
                        <button onclick="handlePurchaseClick()" class="w-full bg-sky-600 hover:bg-sky-700 text-white font-bold py-3 rounded-lg transition duration-300">Contact Admin</button>
                    </div>
                </div>
                 <button id="back-to-chat-btn" class="mt-8 text-slate-400 hover:text-white">Back to Chat</button>
            </div>
        </div>

        <div id="app-view" class="w-full max-w-5xl flex-col flex bg-blurry sm:rounded-2xl border-t sm:border border-slate-700/50 shadow-2xl shadow-black/50 overflow-hidden">
            <header class="flex justify-between items-center gap-y-2 p-3 border-b border-slate-700 flex-shrink-0">
                <div class="text-left">
                    <h1 class="text-lg font-bold text-white">RaVa <span class="text-indigo-400">AI</span></h1>
                    <p class="text-xs text-slate-500 -mt-1 hidden sm:block">By Vishal Goswami</p>
                </div>
                <div class="flex items-center bg-slate-800 p-1 rounded-lg">
                    <button id="chat-mode-btn" class="px-3 py-1 text-sm font-semibold rounded-md bg-indigo-600 text-white flex-1 whitespace-nowrap">Chat</button>
                    <button id="image-mode-btn" class="px-3 py-1 text-sm font-semibold rounded-md text-slate-300 flex-1 whitespace-nowrap">Image Gen</button>
                </div>
                 <div id="user-info" class="hidden items-center space-x-4">
                    <button id="logout-btn" class="bg-slate-700 hover:bg-red-600 p-2 rounded-full text-white font-semibold transition">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"></path></svg>
                    </button>
                </div>
            </header>
            <main class="flex-1 flex flex-col p-2 sm:p-4 overflow-hidden">
                <div id="chat-container" class="flex-1 overflow-y-auto pr-2">
                    <div class="flex items-start gap-3 mb-6">
                        <div class="bg-slate-700 p-2 rounded-full flex-shrink-0"><svg class="w-6 h-6 text-indigo-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path></svg></div>
                        <div>
                            <p class="font-bold text-indigo-400">RaVa AI</p>
                            <div id="ai-greeting" class="text-white mt-1">Hello! How can I assist you today?</div>
                        </div>
                    </div>
                </div>
                <div class="mt-2 sm:mt-4 pt-2 sm:pt-4 border-t border-slate-700 flex-shrink-0">
                    <div id="guest-info" class="flex items-center justify-center gap-x-4 mb-3">
                        <button id="login-prompt-btn" class="flex-1 bg-indigo-600 hover:bg-indigo-700 px-3 py-2 text-sm sm:text-base rounded-lg text-white font-semibold transition whitespace-nowrap">Login / Sign Up</button>
                        <button id="pricing-btn" class="flex-1 bg-slate-700 hover:bg-indigo-600 px-3 py-2 text-sm sm:text-base rounded-lg text-white font-semibold transition">Pricing</button>
                    </div>
                    <div class="bg-slate-800 rounded-xl flex items-center glowing-border">
                        <textarea id="prompt-input" rows="1" placeholder="Ask RaVa AI anything..." class="w-full bg-transparent p-4 pr-24 sm:pr-28 text-white focus:outline-none resize-none"></textarea>
                        <div class="absolute right-1 sm:right-2 top-1/2 -translate-y-1/2 flex items-center">
                             <input type="file" id="image-upload" class="hidden" accept="image/*">
                             <button id="image-upload-btn" title="Upload Image" class="p-2 rounded-full hover:bg-slate-700 text-slate-400 hover:text-white">
                                <svg class="w-5 h-5 sm:w-6 sm:h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg>
                             </button>
                             <button id="send-btn" class="p-2 rounded-full bg-indigo-600 text-white hover:bg-indigo-700 disabled:bg-slate-500">
                                 <svg class="w-5 h-5 sm:w-6 sm:h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" transform="rotate(90)"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"></path></svg>
                             </button>
                        </div>
                    </div>
                    <div id="image-preview-container" class="mt-2 hidden">
                        <img id="image-preview" src="" class="max-h-24 rounded-lg">
                        <button id="remove-image-btn" class="text-xs text-red-400 hover:underline">Remove</button>
                    </div>
                </div>
            </main>
        </div>
        
    </div>

    <script type="module">
        const firebaseConfig = {
          apiKey: "AIzaSyAXvfRJQcwV9nehNqQjIPnN7fNXEGIpFgE",
          authDomain: "rava-ai-65fd7.firebaseapp.com",
          projectId: "rava-ai-65fd7",
          storageBucket: "rava-ai-65fd7.appspot.com",
          messagingSenderId: "10528090838",
          appId: "1:10528090838:web:c34d7ace47d725075cb777",
          measurementId: "G-7YDZDC0NYS"
        };
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, GoogleAuthProvider, signInWithPopup, createUserWithEmailAndPassword, signInWithEmailAndPassword, onAuthStateChanged, signOut, signInAnonymously } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        import { getFirestore, doc, setDoc, getDoc, collection, getDocs, updateDoc, serverTimestamp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";
        import { marked } from "https://cdn.jsdelivr.net/npm/marked/lib/marked.esm.js";
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);
        const provider = new GoogleAuthProvider();
        const appId = 'rava-ai-app';
        const [loginView, pricingView, appView, adminView, adminLoginForm, adminDashboard, userInfo, guestInfo, promptInput, chatModeBtn, imageModeBtn, imageUploadBtn, pricingBtn, loginPromptBtn] = 
            ['login-view', 'pricing-view', 'app-view', 'admin-view', 'admin-login-form', 'admin-dashboard', 'user-info', 'guest-info', 'prompt-input', 'chat-mode-btn', 'image-mode-btn', 'image-upload-btn', 'pricing-btn', 'login-prompt-btn'].map(id => document.getElementById(id));
        let currentUser = null, imageBase64 = null, currentMode = 'chat';
        function createStars() {
            const space = document.getElementById('space-bg');
            if(space.children.length > 0) return;
            for (let i = 0; i < 150; i++) {
                const star = Object.assign(document.createElement('div'), { className: 'star' });
                const size = Math.random() * 2.5 + 1;
                Object.assign(star.style, {
                    width: `${size}px`, height: `${size}px`, top: `${Math.random() * 100}%`, left: `${Math.random() * 100}%`,
                    animationDuration: `${Math.random() * 5 + 3}s`, animationDelay: `${Math.random() * 4}s`
                });
                space.appendChild(star);
            }
        }
        function showView(viewName) {
            [loginView, pricingView, appView].forEach(v => v.classList.add('hidden'));
            document.getElementById('app-root').classList.toggle('sm:p-4', ['login', 'pricing'].includes(viewName));
            document.getElementById(`${viewName}-view`).classList.remove('hidden');
        }
        onAuthStateChanged(auth, async (user) => {
            if (user && !user.isAnonymous) {
                currentUser = user; userInfo.classList.remove('hidden'); guestInfo.classList.add('hidden');
                const userRef = doc(db, `artifacts/${appId}/users`, user.uid);
                let userDoc = await getDoc(userRef);
                if (!userDoc.exists()) {
                    await setDoc(userRef, { email: user.email, userId: createRandomId(), createdAt: serverTimestamp(), accessGranted: false, banned: false });
                    userDoc = await getDoc(userRef);
                }
                const userData = userDoc.data();
                if (userData.banned) { alert("Your account has been banned."); return signOut(auth); }
                const isTrialExpired = userData.createdAt ? (Date.now() - userData.createdAt.toDate().getTime()) > (7 * 24 * 60 * 60 * 1000) : true;
                if (!userData.accessGranted && isTrialExpired) return showView('pricing');
                if (location.hash !== '#pricing') showView('app');
            } else {
                currentUser = auth.currentUser; userInfo.classList.add('hidden'); guestInfo.classList.remove('hidden');
                if (!currentUser) signInAnonymously(auth).catch(e => console.error("Anonymous sign-in failed:", e));
                if (location.hash !== '#pricing') showView('app');
            }
        });
        function setupAuthListeners() {
            document.getElementById('google-signin-btn').addEventListener('click', () => signInWithPopup(auth, provider).catch(handleAuthError));
            document.getElementById('login-btn').addEventListener('click', () => signInWithEmailAndPassword(auth, document.getElementById('email-input').value, document.getElementById('password-input').value).catch(handleAuthError));
            document.getElementById('signup-btn').addEventListener('click', () => createUserWithEmailAndPassword(auth, document.getElementById('email-input').value, document.getElementById('password-input').value).catch(handleAuthError));
            loginPromptBtn.addEventListener('click', () => showView('login'));
            pricingBtn.addEventListener('click', () => { location.hash = '#pricing'; showView('pricing'); });
            document.getElementById('back-to-chat-btn').addEventListener('click', () => { location.hash = ''; showView('app'); });
            document.getElementById('logout-btn').addEventListener('click', () => signOut(auth));
        }
        function handleAuthError(error) {
            document.getElementById('auth-error').textContent = error.message.replace('Firebase: ', '');
            document.getElementById('auth-error').classList.remove('hidden');
        }
        function switchMode(mode) {
            currentMode = mode;
            chatModeBtn.classList.toggle('bg-indigo-600', mode === 'chat'); chatModeBtn.classList.toggle('text-white', mode === 'chat');
            imageModeBtn.classList.toggle('bg-indigo-600', mode === 'image'); imageModeBtn.classList.toggle('text-white', mode === 'image');
            promptInput.placeholder = mode === 'chat' ? "Ask RaVa AI anything..." : "Describe an image to create...";
            imageUploadBtn.classList.toggle('hidden', mode === 'image');
            if (mode === 'image') removeImage();
        }
        chatModeBtn.addEventListener('click', () => switchMode('chat')); imageModeBtn.addEventListener('click', () => switchMode('image'));
        const sendBtn = document.getElementById('send-btn'); const chatContainer = document.getElementById('chat-container');
        sendBtn.addEventListener('click', handleSendMessage); promptInput.addEventListener('keydown', (e) => { if (e.key === 'Enter' && !e.shiftKey) { e.preventDefault(); handleSendMessage(); } });
        async function handleSendMessage() {
            const prompt = promptInput.value.trim(); if (!prompt && !imageBase64) return;
            sendBtn.disabled = true; addUserMessage(prompt, currentMode === 'chat' ? imageBase64 : null); promptInput.value = '';
            addBotMessage("...", true);
            try {
                const response = await callProxyAPI(prompt, imageBase64, currentMode);
                if (currentMode === 'chat') { updateBotMessage(response.candidates[0].content.parts[0].text); } 
                else { const b64 = response.candidates[0].content.parts.find(p => p.inlineData).inlineData.data; updateBotMessageWithImage(b64); }
            } catch (error) { console.error("API Error:", error); updateBotMessage(`Sorry, an error occurred: ${error.message}`); } 
            finally { sendBtn.disabled = false; removeImage(); }
        }
        async function callProxyAPI(prompt, base64Data, mode) {
            const response = await fetch('/.netlify/functions/gemini', { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ prompt, base64Data, mode }) });
            const result = await response.json();
            if (!response.ok) throw new Error(result.error || 'Unknown error');
            return result;
        }
        function addUserMessage(text, b64) {
            let imageHtml = b64 ? `<img src="data:image/jpeg;base64,${b64}" class="rounded-lg max-w-xs mt-2">` : '';
            const messageHtml = `<div class="flex items-start gap-3 mb-6 justify-end"><div class="max-w-[80%]"><p class="font-bold text-right text-indigo-300">You</p><div class="bg-indigo-900/50 p-3 rounded-lg mt-1 text-white break-words">${text} ${imageHtml}</div></div><div class="bg-slate-700 p-2 rounded-full flex-shrink-0"><svg class="w-6 h-6 text-indigo-300" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path></svg></div></div>`;
            chatContainer.insertAdjacentHTML('beforeend', messageHtml); chatContainer.scrollTop = chatContainer.scrollHeight;
        }
        function addBotMessage(text, isTyping = false) {
            const messageHtml = `<div class="flex items-start gap-3 mb-6 ai-message ${isTyping ? 'typing-indicator' : ''}"><div class="bg-slate-700 p-2 rounded-full flex-shrink-0"><svg class="w-6 h-6 text-indigo-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path></svg></div><div class="max-w-[80%]"><p class="font-bold text-indigo-400">RaVa AI</p><div class="text-white mt-1 ai-message-content break-words">${text}</div></div></div>`;
            chatContainer.insertAdjacentHTML('beforeend', messageHtml); chatContainer.scrollTop = chatContainer.scrollHeight;
        }
        function updateBotMessage(text) {
            const typingIndicator = chatContainer.querySelector('.typing-indicator .ai-message-content');
            if (typingIndicator) { typingIndicator.innerHTML = marked.parse(text); typingIndicator.closest('.typing-indicator').classList.remove('typing-indicator'); }
        }
        function updateBotMessageWithImage(base64Image) {
            const typingIndicator = chatContainer.querySelector('.typing-indicator .ai-message-content');
            if (typingIndicator) { typingIndicator.innerHTML = `<img src="data:image/png;base64,${base64Image}" class="rounded-lg max-w-full">`; typingIndicator.closest('.typing-indicator').classList.remove('typing-indicator'); }
        }
        const imageUpload = document.getElementById('image-upload');
        imageUploadBtn.addEventListener('click', () => imageUpload.click());
        document.getElementById('remove-image-btn').addEventListener('click', removeImage);
        imageUpload.addEventListener('change', (e) => {
            const file = e.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = (event) => {
                    imageBase64 = event.target.result.replace('data:', '').replace(/^.+,/, '');
                    document.getElementById('image-preview').src = event.target.result;
                    document.getElementById('image-preview-container').classList.remove('hidden');
                };
                reader.readAsDataURL(file);
            }
        });
        function removeImage() { imageBase64 = null; imageUpload.value = ''; document.getElementById('image-preview-container').classList.add('hidden'); }
        window.handlePurchaseClick = () => { if (currentUser && !currentUser.isAnonymous) showContactModal(); else { alert('Please log in first.'); showView('login'); } }
        const createRandomId = () => Math.random().toString(36).substring(2, 15);
        window.showContactModal = () => document.getElementById('contact-modal').classList.remove('hidden');
        window.hideContactModal = () => document.getElementById('contact-modal').classList.add('hidden');
        function init() {
            if (location.pathname.match(/(\/admin|\/random)/)) { showView('admin'); } 
            else {
                showView('app');
                document.getElementById('ai-greeting').textContent = ["Hi, what's up?", "What can I help you with today?", "Ask me anything! 😉", "Ready to explore some ideas? 🙄"][Math.floor(Math.random() * 4)];
                createStars();
            }
            setupAuthListeners();
        }
        init();
    </script>
</body>
</html>
```
